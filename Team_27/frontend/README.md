# Frontend (frontend)

Vite + React single-page app that consumes the backend proxy (`/api`) for VQA, bbox, and caption calls.

## Features
- Upload a satellite image, ask free-form questions, and auto-route via the backend proxy to router/VQA/bbox/caption.
- Visualize captions, answers, grounded boxes, and mask overlays; includes rotate/flip/zoom/crop controls on the canvas.
- Keeps session history and cached imagery in localStorage so users can revisit prior analyses.
- Nginx-ready static build output in `dist/` with Tailwind configured via `postcss.config.js` and `tailwind.config.js`.

## Dev
```bash
npm install
npm run dev -- --host
```
App listens on Vite default port (e.g., 5173).

## Build
```bash
npm run build
```
Artifacts land in `dist/`; serve via Nginx (see `installation/installation.md`).

## Backend expectation
- Frontend calls `/api/...` relative to origin; ensure Nginx proxies `/api/` to the backend host.

## Tested targets
- Built and run on Ubuntu 20.04/22.04/24.04; production served from EC2 behind VPN to the GPU node.

## ğŸ“ Front-End Directory Structure
```
â”œâ”€â”€ dist/                           # Production build output (generated by Vite)
â”‚   â”œâ”€â”€ assets/                     # Bundled and optimized assets
â”‚   â”‚   â”œâ”€â”€ index-DdCdjdTG.js      # Minified JavaScript bundle with hash
â”‚   â”‚   â””â”€â”€ index-DImLTZGz.css     # Minified CSS bundle with hash
â”‚   â”œâ”€â”€ desktop.ini                 # Windows folder configuration file
â”‚   â”œâ”€â”€ index.html                  # Production-ready HTML entry point
â”‚   â”œâ”€â”€ isro_logo.png              # ISRO logo image
â”‚   â”œâ”€â”€ TerraQuery.png             # TerraQuery branding image
â”‚   â””â”€â”€ vite.svg                    # Vite framework logo
â”‚
â”œâ”€â”€ public/                         # Static assets (copied as-is to dist/)
â”‚   â”œâ”€â”€ desktop.ini                 # Windows folder configuration file
â”‚   â”œâ”€â”€ isro_logo.png              # ISRO logo (publicly accessible)
â”‚   â”œâ”€â”€ TerraQuery.png             # TerraQuery logo (publicly accessible)
â”‚   â””â”€â”€ vite.svg                    # Vite logo (publicly accessible)
â”‚
â”œâ”€â”€ src/                            # Source code directory
â”‚   â”œâ”€â”€ App.jsx                     # Root React component
â”‚   â”œâ”€â”€ index.css                   # Global styles and Tailwind imports
â”‚   â”œâ”€â”€ main.jsx                    # Application entry point (renders App)
â”‚   â”œâ”€â”€ README.md                   # Source-specific documentation
â”‚   â””â”€â”€ TerraQuery.png             # TerraQuery image in source
â”‚
â”œâ”€â”€ eslint.config.js                # ESLint configuration for code linting
â”œâ”€â”€ index.html                      # Main HTML template for development
â”œâ”€â”€ package.json                    # Project metadata and dependencies
â”œâ”€â”€ package-lock.json               # Locked versions of dependencies
â”œâ”€â”€ postcss.config.js               # PostCSS configuration (for Tailwind)
â”œâ”€â”€ README.md                       # Project documentation and setup guide
â”œâ”€â”€ tailwind.config.js              # Tailwind CSS configuration
â””â”€â”€ vite.config.js                  # Vite build tool configuration
```

---

### ğŸ“ File & Folder Explanations

#### **Root Level**
- **`eslint.config.js`** - Configures ESLint rules for maintaining code quality and consistency
- **`index.html`** - Development HTML template; Vite injects scripts here during dev mode
- **`package.json`** - Lists project dependencies, scripts (dev, build, preview), and metadata
- **`package-lock.json`** - Auto-generated file that locks exact dependency versions
- **`postcss.config.js`** - Configures PostCSS plugins (required for Tailwind CSS processing)
- **`README.md`** - Main project documentation with setup instructions and overview
- **`tailwind.config.js`** - Customizes Tailwind CSS theme, plugins, and content paths
- **`vite.config.js`** - Configures Vite settings (port, plugins, build options, etc.)

#### **`dist/` - Production Build**
- Generated when you run `npm run build`
- Contains optimized, minified, and hashed files ready for deployment
- **`assets/`** - JavaScript and CSS bundles with cache-busting hashes
- **`index.html`** - Production HTML with inlined asset references

#### **`public/` - Static Assets**
- Files here are copied directly to `dist/` during build without processing
- Accessible via root URL (e.g., `/isro_logo.png`)
- Use for images, fonts, favicon, and other static resources

#### **`src/` - Source Code**
- **`main.jsx`** - Entry point that renders the React app into the DOM
- **`App.jsx`** - Root component containing main application logic and routing
- **`index.css`** - Global CSS file (includes Tailwind directives: `@tailwind base`, etc.)
- **`README.md`** - Documentation specific to source code structure